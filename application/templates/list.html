{% extends "layout.html" %}

{% block body %}
<p>
    Saved matches.
    
    <br> I didn't have time yet to make this not look terrible, but In the future this will loo much easier to read
    <br>
    Note, Database has functionality for deleting a log file, and all matches associated with it, but this is not
    currently supported by the gui
    <br>
    <br>
    Also we don't have a proper stats page, so just showing the result of our aggrevate query here
    <br>
    Win precentage
    <br>
    {{win_pre}} % 
    <br>
    Times player played with certain players

    <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            
            <th scope="col">Name</th>
            <th scope="col">With</th>
            <th scope="col">Against</th>
          </tr>
        </thead>
        <tbody>
            {%for player in players%}
          <tr>
            <th scope="row">{{ loop.index }}</th>
            <td>{{player.0}}</td>
            <td>{{player.1}}</td>
            <td>{{player.2}}</td>
          </tr>
          
            
          {% endfor %}
        </tbody>
        
      </table>
    {%for log in logs%}
    <br>

    
    ----------------
    <br>
    <td><b>{{log.date}}</b></td>
    {%for match in log.matches%}
    <br>
    <td><b>{{match.start_string}} - {{match.end_string}}</b></td>
    <br>
    
    {% if match.round1 %}
    round 1 win
    <br>
    {% else %}
    round 1 loss
    <br>
    {% endif %}
    {% if match.round2 %}
    round 2 win
    <br>
    {% else %}
    round 2 loss
    <br>
    {% endif %}
    {% if match.round3 is not none %}

    {% if match.round3 %}
    round 3 win
    <br>
    {% else %}
    round 3 loss
    <br>
    {% endif %}


    {% else %}
    round 3 not played

    {% endif %}
    
    {% endfor %}
    {% endfor %}
</p>
{% endblock %}
